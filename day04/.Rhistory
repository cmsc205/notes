ScorecardSmall %>%
filter( ! CCSIZSET %in% c(1,6,7,8),
ADM_RATE < 1,
CONTROL != 3) %>%
select(ADM_RATE, CONTROL,
NPT41_PUB, NPT43_PUB, NPT45_PUB,
NPT41_PRIV, NPT43_PRIV, NPT45_PRIV) %>%
gather(value = net_cost, key=income_group,
NPT41_PUB, NPT43_PUB, NPT45_PUB,
NPT41_PRIV, NPT43_PRIV, NPT45_PRIV) %>%
left_join(Translate, by=c("income_group" = "long_name")) %>%
mutate(CONTROL = ifelse(CONTROL==1, "Public", "Private"))
write.csv(Narrow, "ScorecardSmallNarrow.csv", row.names=FALSE)
head(Narrow)
Narrrow <- select(Narrow, -income_group)
head(Narrow)
Narrow <- select(Narrow, -income_group)
head(Narrow)
?rename
colnames(Narrow)[4]
colnames(Narrow)[4] <- "income_group"
write.csv(Narrow, "ScorecardSmallNarrow.csv", row.names=FALSE)
scorecard %>% na.omit() %>%
ggplot(aes(x=ADM_RATE, y=net_cost)) +
geom_point(alpha = 0.3, color="blue") +
facet_grid(CONTROL ~ income_group) +
geom_smooth(color="red") +
ylim(0, 50000) +
xlab("Admissions rate, %") +
ylab("Net cost per year, $'000")
scorecard <- Narrow
scorecard %>% na.omit() %>%
ggplot(aes(x=ADM_RATE, y=net_cost)) +
geom_point(alpha = 0.3, color="blue") +
facet_grid(CONTROL ~ income_group) +
geom_smooth(color="red") +
ylim(0, 50000) +
xlab("Admissions rate, %") +
ylab("Net cost per year, $'000")
scorecard %>%
ggplot(aes(x=ADM_RATE, y=net_cost)) +
geom_point(alpha = 0.3, color="blue") +
facet_grid(CONTROL ~ income_group) +
geom_smooth(color="red") +
ylim(0, 50000) +
xlab("Admissions rate, %") +
ylab("Net cost per year, $'000")
params
scorecard %>%
ggplot(aes(x=ADM_RATE, y=net_cost)) +
geom_point(alpha = 0.3, color="steelblue") +
facet_grid(CONTROL ~ income_group) +
geom_smooth(color="red") +
ylim(0, 50000) +
xlab("Admissions rate, %") +
ylab("Net cost per year, $'000")
scorecard %>%
ggplot(aes(x=ADM_RATE, y=net_cost)) +
geom_point(alpha = 0.3, color="steelblue") +
facet_grid(CONTROL ~ income_group) +
geom_smooth(color="red") +
ylim(0, 50000) +
xlab("Admissions rate, %") +
ylab("Net cost per year, $'000")
scorecard %>%
ggplot(aes(x=ADM_RATE, y=net_cost)) +
geom_point(alpha = 0.3, color="blue") +
facet_grid(CONTROL ~ income_group) +
geom_smooth(color="red") +
ylim(0, 50000) +
xlab("Admissions rate, %") +
ylab("Net cost per year, $'000")
p <-
scorecard %>%
ggplot(aes(x=ADM_RATE, y=net_cost)) +
geom_point(alpha = 0.3, color="blue") +
facet_grid(CONTROL ~ income_group) +
geom_smooth(color="red") +
ylim(0, 50000) +
xlab("Admissions rate, %") +
ylab("Net cost per year, $'000")
p
p + labs(title = "Average Net Cost per Year at U.S. Colleges")
p <- p + labs(title = "Average Net Cost per Year at U.S. Colleges")
p
p + labs(subtitle = "By income quintile")
library(tidyverse)
p <-
scorecard %>%
ggplot(aes(x=ADM_RATE, y=net_cost)) +
geom_point(alpha = 0.3, color="blue") +
facet_grid(CONTROL ~ income_group) +
geom_smooth(color="red") +
ylim(0, 50000) +
xlab("Admissions rate, %") +
ylab("Net cost per year, $'000")
p
p <- p + labs(title = "Average Net Cost per Year at U.S. Colleges")
p
p <- p + labs(subtitle = "By income quintile")
p
library(tidyverse)
scorecard %>%
ggplot(aes(x=ADM_RATE, y=net_cost)) +
geom_point(alpha = 0.3, color="blue") +
facet_grid(CONTROL ~ income_group) +
geom_smooth(color="red")
p <-
scorecard %>%
ggplot(aes(x=ADM_RATE, y=net_cost)) +
geom_point(alpha = 0.3, color="blue") +
facet_grid(CONTROL ~ income_group) +
geom_smooth(color="red") +
ylim(0, 50000) +
p
p <-
scorecard %>%
ggplot(aes(x=ADM_RATE, y=net_cost)) +
geom_point(alpha = 0.3, color="blue") +
facet_grid(CONTROL ~ income_group) +
geom_smooth(color="red") +
ylim(0, 50000)
p
p <- p + labs(title = "Average Net Cost per Year at U.S. Colleges")
p
p <- p + labs(subtitle = "By income quintile")
p
p + labs(x = "Admissions rate, %",
y = "Net cost per year, $'000")
scorecard %>%
ggplot(aes(x=ADM_RATE, y=net_cost, color=ADM_RATE)) +
geom_point(alpha = 0.3) +
facet_grid(CONTROL ~ income_group) +
geom_smooth(color="red") +
ylim(0, 50000)
scorecard %>%
ggplot(aes(x=ADM_RATE, y=net_cost, color=ADM_RATE)) +
geom_point(alpha = 0.3) +
facet_grid(CONTROL ~ income_group) +
geom_smooth(color="black") +
ylim(0, 50000)
scorecard %>%
ggplot(aes(x=ADM_RATE, y=net_cost, color=ADM_RATE)) +
geom_point(alpha = 0.3) +
facet_grid(CONTROL ~ income_group) +
geom_smooth(color="orange") +
ylim(0, 50000)
scorecard %>%
ggplot(aes(x=ADM_RATE, y=net_cost, color=ADM_RATE)) +
geom_point(alpha = 0.3) +
facet_grid(CONTROL ~ income_group) +
geom_smooth(color="darkorange") +
ylim(0, 50000)
scorecard %>%
ggplot(aes(x=ADM_RATE, y=net_cost, color=ADM_RATE)) +
geom_point(alpha = 0.3) +
facet_grid(CONTROL ~ income_group) +
geom_smooth(color="darkorange") +
ylim(0, 50000) +
labs(title = "Average Net Cost per Year at U.S. Colleges",
subtitle = "By income quintile",
x = "Admissions rate, %",
y = "Net cost per year, $'000",
color = "Admissions Rate")
scorecard %>%
ggplot(aes(x=ADM_RATE, y=net_cost, color=ADM_RATE)) +
geom_point(alpha = 0.3) +
facet_grid(CONTROL ~ income_group) +
geom_smooth(color="darkorange") +
ylim(0, 50000) +
labs(title = "Average Net Cost per Year at U.S. Colleges",
subtitle = "By income quintile",
x = "Admissions rate, %",
y = "Net cost per year, $'000",
color = "Admissions\nRate")
p <-
scorecard %>%
ggplot(aes(x=ADM_RATE, y=net_cost)) +
geom_point(alpha = 0.3, color="blue") +
facet_grid(CONTROL ~ income_group) +
geom_smooth(color="red") +
ylim(0, 50000)
p
library(babynames)
?babynames
head(babynames)
str(babynames)
tail(babynames)
baby_grouped <- group_by(sex)
baby_grouped <- group_by(babynames, sex)
baby_grouped %>% arrange(n)
baby_grouped %>% arrange(desc(n))
baby2014 <- filter(BabyNames)
?BabyNames
tail(BabyNames)
baby2014 <- filter(babynames, year == 2014)
baby2014 <- arrange(baby2014, desc(n))
head(baby2014)
head(baby2014, 10)
head(baby2014, 20)
temp <- head(baby2014, 20)
temp
temp <- head(baby2014, 10)
write.csv(temp, "top10babynames2014.csv", row.names=FALSE)
babynames <- temp
babynames %>%
ggplot(aes(x = name)) +
geom_bar()
babynames %>%
ggplot(aes(x = name, y = n)) +
geom_bar(stat = "identity")
babynames %>%
ggplot(aes(x = name, y = n, color = sex)) +
geom_bar(stat = "identity")
babynames %>%
ggplot(aes(x = name, y = n, fill = sex)) +
geom_bar(stat = "identity")
str(babynames)
babynames$name <- reorder(babynames$name, identity, n)
n
babynames$name <- reorder(babynames$name, identity, `n`)
babynames$name <- reorder(babynames$name, FUN = identity, babynames$n)
babynames %>%
ggplot(aes(x = name, y = n, fill = sex)) +
geom_bar(stat = "identity")
babynames$name <- reorder(babynames$name, FUN = function(x) -1* identity(x), babynames$n)
babynames %>%
ggplot(aes(x = name, y = n, fill = sex)) +
geom_bar(stat = "identity")
babynames %>%
ggplot(aes(x = name, y = n, fill = sex)) +
geom_bar(stat = "identity") + coord_flip()
babynames$name <- reorder(babynames$name, FUN = identity(x), babynames$n)
babynames$name <- reorder(babynames$name, FUN = identity, babynames$n)
babynames %>%
ggplot(aes(x = name, y = n, fill = sex)) +
geom_bar(stat = "identity") +
coord_flip()
babynames$name <- reorder(babynames$name, FUN = identity, babynames$n)
p2 <- babynames %>%
ggplot(aes(x = name, y = n, fill = sex)) +
geom_bar(stat = "identity") +
coord_flip()
p2 + scale_fill_manual(values = c("pink", "blue"))
p2 + scale_fill_manual(values = c("purple", "blue"))
p2 + scale_fill_manual(values = c("purple", "orange"))
p2 + scale_fill_manual(values = c("darkpink", "steelblue"))
p2 + scale_fill_manual(values = c("deeppink", "steelblue"))
babynames$name <- reorder(babynames$name, FUN = identity, babynames$n)
p2 <- babynames %>%
ggplot(aes(x = name, y = n, fill = sex)) +
geom_bar(stat = "identity") +
labs(x = NULL, y = "Count")
coord_flip()
p2 + scale_fill_manual(values = c("deeppink", "steelblue"))
babynames$name <- reorder(babynames$name, FUN = identity, babynames$n)
p2 <- babynames %>%
ggplot(aes(x = name, y = n, fill = sex)) +
geom_bar(stat = "identity") +
labs(x = NULL, y = "Count") +
coord_flip()
p2 + scale_fill_manual(values = c("deeppink", "steelblue"))
babynames$name <- reorder(babynames$name, FUN = identity, babynames$n)
p2 <- babynames %>%
ggplot(aes(x = name, y = n, fill = sex)) +
geom_bar(stat = "identity") +
labs(title = "Top 10 Baby Names of 2014", x = NULL, y = "Count") +
coord_flip()
p2 + scale_fill_manual(values = c("deeppink", "steelblue"))
p2 + scale_fill_virids(discrete = TRUE)
p2 + scale_fill_viridis(discrete = TRUE)
install.packages("viridis")
library(viridis)
p2 + scale_fill_viridis(discrete = TRUE)
p2 + scale_fill_brewer(pal = "Dark2")
?scale_fill_brewer
p2 + scale_fill_brewer(palette = "Dark2")
?RColorBrewer
RColorBrewer::display.brewer.all()
display.brewer.all()
RColorBrewer::display.brewer.all()
p2 + scale_fill_colorblind()
p + theme_economist()
p + theme_minimal()
p + theme_tufte()
p + theme_few()
p + theme_fivethirtyeight()
p + theme_wsj()
p + theme_hc()
p2
babynames %>%
ggplot(aes(x = name, y = n)) +
geom_bar(stat = "identity")
args(theme)
scorecard <- read_csv("https://github.com/cmsc205/data/raw/master/ScorecardSmallNarrow.csv")
library(tidyverse)
knitr::opts_chunk$set(tidy=FALSE, message=FALSE)
scorecard <- read_csv("https://github.com/cmsc205/data/raw/master/ScorecardSmallNarrow.csv")
scorecard <- read_csv("https://github.com/cmsc205/data/raw/master/ScorecardSmallNarrow.csv")
scorecard <- read_csv("https://github.com/cmsc205/data/raw/master/ScorecardSmallNarrow.csv")
p <-
scorecard %>%
ggplot(aes(x=ADM_RATE, y=net_cost)) +
geom_point(alpha = 0.3, color="blue") +
facet_grid(CONTROL ~ income_group) +
geom_smooth(color="red") +
ylim(0, 50000)
p
scorecard <- read_csv("https://github.com/cmsc205/data/raw/master/ScorecardSmallNarrow.csv")
p <-
scorecard %>%
ggplot(aes(x=ADM_RATE, y=net_cost)) +
geom_point(alpha = 0.3, color="blue") +
facet_grid(CONTROL ~ income_group) +
geom_smooth(color="red") +
ylim(0, 50000)
p
scorecard <- read_csv("https://github.com/cmsc205/data/raw/master/ScorecardSmallNarrow.csv")
library(tidyverse)
p <-
scorecard %>%
ggplot(aes(x=ADM_RATE, y=net_cost)) +
geom_point(alpha = 0.3, color="blue") +
facet_grid(CONTROL ~ income_group) +
geom_smooth(color="red") +
ylim(0, 50000)
p
library(tidyverse)
scorecard <- read_csv("https://github.com/cmsc205/data/raw/master/ScorecardSmallNarrow.csv")
p <-
scorecard %>%
ggplot(aes(x=ADM_RATE, y=net_cost)) +
geom_point(alpha = 0.3, color="blue") +
facet_grid(CONTROL ~ income_group) +
geom_smooth(color="red") +
ylim(0, 50000)
p
p <- p + labs(title = "Average Net Cost per Year at U.S. Colleges")
p
p <- p + labs(subtitle = "By income quintile")
p
p + labs(x = "Admissions rate, %",
y = "Net cost per year, $'000")
scorecard %>%
ggplot(aes(x=ADM_RATE, y=net_cost, color=ADM_RATE)) +
geom_point(alpha = 0.3) +
facet_grid(CONTROL ~ income_group) +
geom_smooth(color="darkorange") +
ylim(0, 50000) +
labs(title = "Average Net Cost per Year at U.S. Colleges",
subtitle = "By income quintile",
x = "Admissions rate, %",
y = "Net cost per year, $'000",
color = "Admissions\nRate")
babynames <-
babynames <- read_csv("https://github.com/cmsc205/data/raw/master/top10babynames2014.csv")
babynames %>%
ggplot(aes(x = name, y = n, fill = sex)) +
geom_bar(stat = "identity")
babynames$name <- reorder(babynames$name, FUN = identity, babynames$n)
p2 <- babynames %>%
ggplot(aes(x = name, y = n, fill = sex)) +
geom_bar(stat = "identity") +
labs(title = "Top 10 Baby Names of 2014", x = NULL, y = "Count") +
coord_flip()
p2 + scale_fill_manual(values = c("deeppink", "steelblue"))
p2 + scale_fill_brewer(palette = "Dark2")
RColorBrewer::display.brewer.all()
library(viridis)
p2 + scale_fill_viridis(discrete = TRUE)
p2 + scale_fill_colorblind()
library(tidyverse)
?tidyverse
help(package="tidyverse")
library(ggthemes)
p2 + scale_fill_colorblind()
p + theme_minimal()
p + theme_hc()
babynames %>%
ggplot(aes(x = name, y = n)) +
geom_bar(stat = "identity") +
theme()
?theme
babynames %>%
ggplot(aes(x = name, y = n)) +
geom_bar(stat = "identity") +
theme(axis.title.x = element_blank(),
plot.background = element_blank())
babynames %>%
ggplot(aes(x = name, y = n)) +
geom_bar(stat = "identity") +
theme(axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.background = element_blank())
babynames %>%
ggplot(aes(x = name, y = n)) +
geom_bar(stat = "identity") +
theme(axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.background = element_blank(),
axis.ticks.y = element_blank(),
)
babynames %>%
ggplot(aes(x = name, y = n)) +
geom_bar(stat = "identity") +
theme(axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.background = element_blank(),
axis.ticks.x = element_blank(),
)
babynames %>%
ggplot(aes(x = name, y = n)) +
geom_bar(stat = "identity") +
theme(axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.background = element_blank(),
axis.ticks.x = element_blank(),
axis.text.x = element_text(vjust = 0))
babynames %>%
ggplot(aes(x = name, y = n)) +
geom_bar(stat = "identity") +
theme(axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.background = element_blank(),
axis.ticks.x = element_blank(),
axis.text.x = element_text(vjust = 1))
babynames %>%
ggplot(aes(x = name, y = n)) +
geom_bar(stat = "identity") +
theme(axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.background = element_blank(),
axis.ticks.x = element_blank(),
axis.text.x = element_text(vjust = .5))
babynames %>%
ggplot(aes(x = name, y = n)) +
geom_bar(stat = "identity") +
geom_text(aes(label = n), vjust=0) +
theme(axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.background = element_blank(),
axis.ticks.x = element_blank(),
)
babynames %>%
ggplot(aes(x = name, y = n)) +
geom_bar(stat = "identity") +
geom_text(aes(label = n), vjust=-1) +
theme(axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.background = element_blank(),
axis.ticks.x = element_blank(),
)
babynames %>%
ggplot(aes(x = name, y = n)) +
geom_bar(stat = "identity") +
geom_text(aes(label = n), vjust=1) +
theme(axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.background = element_blank(),
axis.ticks.x = element_blank(),
)
babynames %>%
ggplot(aes(x = name, y = n)) +
geom_bar(stat = "identity") +
geom_text(aes(label = n), vjust=1.5) +
theme(axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.background = element_blank(),
axis.ticks.x = element_blank(),
)
babynames %>%
ggplot(aes(x = name, y = n)) +
geom_bar(stat = "identity") +
geom_text(aes(label = n), vjust=1.5, color = "white") +
theme(axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.background = element_blank(),
axis.ticks.x = element_blank(),
)
babynames %>%
ggplot(aes(x = name, y = n)) +
geom_bar(stat = "identity") +
geom_text(aes(label = n), vjust=1.5, color = "white") +
theme(axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.background = element_blank(),
axis.ticks.x = element_blank(),
axis.ticks.y = element_blank(),
axis.text.y = element_blank())
babynames %>%
ggplot(aes(x = name, y = n)) +
geom_bar(stat = "identity") +
geom_text(aes(label = n), vjust=1.5, color = "white") +
theme(axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.background = element_blank(),
axis.ticks.x = element_blank(),
axis.ticks.y = element_blank(),
axis.text.y = element_blank(),
axis.text.x = element_text(vjust = -1))
babynames %>%
ggplot(aes(x = name, y = n)) +
geom_bar(stat = "identity") +
geom_text(aes(label = n), vjust=1.5, color = "white") +
theme(axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.background = element_blank(),
axis.ticks.x = element_blank(),
axis.ticks.y = element_blank(),
axis.text.y = element_blank(),
axis.text.x = element_text(vjust = -2))
?theme
