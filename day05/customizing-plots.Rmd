---
title: "Customizing Plots"
output: html_document
---

We now know how to create many plot types using `ggplot2`, but often you want to customize your plots. Today, we'll discuss common tools for customizing our plots.

To begin, make sure that you have the `tidyverse` loaded.

```{r}
library(tidyverse)
```

# The Deadest Names in the U.S.

The "Deadest Names" graphics appeared on [fivethirtyeight.com](https://fivethirtyeight.com/) on 5/29/14. Today, we'll recreate this plot to illustrate additional customizations that are possible in R.

![](https://espnfivethirtyeight.files.wordpress.com/2014/05/silver-feature-names-dead2.png?quality=90&strip=all&w=575&ssl=1)

The data for this plot can be generated using the `make_babynames_dist()` function in the `mdsr` package along with the following data wrangling commands:

```{r}
library(mdsr)
dead_names <- make_babynames_dist() %>%
  group_by(name, sex) %>%
  summarize(n = n(), est_alive_today = sum(alive_prob * count_thousands), total_named = sum(count_thousands)) %>%
  mutate(pct_dead = 1 - est_alive_today/total_named)

arrange(dead_names, desc(pct_dead))
```


# Adding titles, axis labels, and legend labels


Good labels are critical for making your plots accessible to a wider audience. It's important to ensure axis and legend labels display the full variable name (or a logical abbreviaition), but this does not always happen by default. 

To add/alter these annotations we simply add a new layer using the `labs` function.

Let's start with a rather simple dotplot

```{r}
states <- as.data.frame(state.x77)

p2 <- states %>%
  ggplot(aes(x = state.name, y = state.area)) +
  geom_point() +
  coord_flip()
p2
```

#### Adding a title

```{r}
p + labs(title = "")
```

#### Adding a subtitle

```{r}
p + labs(subtitle = "")
```

#### Changing the axis labels

```{r}
p + labs(x = "", y = "")
```


#### Changing the legend labels

p + labs(color = "")


# Ordering factors

Sometimes we need to order the levels of a factor to make a plot meaningful.


To do this with respect to another variable we can use the `reorder` function. 

```{r}

```



# Choosing color palettes

`ggplot2` does not choose the nicest looking palettes, and the palettes are typically not colorblind friendly. Luckily, it's quite easy to change the color palettes you use.

#### Manual adjustments

#### Using RColorBrewer

#### Using viridis

#### A colorblind friendly palette


# Choosing themes

By default `ggplot2` uses a grey background and guidlines on a plot; however, we don't always want our plots to appear this way. To change this the appearance, we need to work with themes.

The `ggthemes` package offers many additional [choices](https://github.com/jrnold/ggthemes). 

A new theme is added just like a layer.


# Customizing themes

